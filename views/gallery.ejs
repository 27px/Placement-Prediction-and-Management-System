<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/style/gallery/style.css">
    <link rel="stylesheet" href="../static/style/nav.css">
    <link rel="stylesheet" href="../static/style/popup.css">
    <script type="text/javascript" src="../static/script/gallery/script.js"></script>
    <script type="text/javascript" src="../static/script/popup.js"></script>
    <title>Gallery</title>
  </head>
  <body>
    <%- include("./partials/nav",{
      isLoggedIn,
      type
    }); %>
    <div class="container">
      <div class="wrapper">
        <%
          if(type=="admin" || type=="coordinator")
          {
            %>
              <div class="uploader" onclick="upload();">
                <div class="icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="0.6" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline></svg>
                </div>
                <div class="desc">Upload</div>
              </div>
              <form method="post" action"/gallery" enctype="multipart/form-data">
                <input type="file" id="up" name="imgallerry" accept="image/*" onchange="testUpload(event);">
              </form>
            <%
          }
          files.forEach((image,i)=>{
            name=image.split(".").slice(0,-1).join(".");
            %>
              <div class="image" id="image-<%-i%>" style="background-image:url('/pictures/<%=image%>');" showtitle="<%=name%>"></div>
            <%
          });
          if(files.length<1)
          {
            %>
              <div class="empty">
                <div class="icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="0.6" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                </div>
                <div class="desc">No Images</div>
              </div>
            <%
          }
        %>
      </div>
    </div>
  </body>
</html>
